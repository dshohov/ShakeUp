@model IEnumerable<Alcohol>

<link rel="stylesheet" href="/css/alcohol.css">
<div class="search-filters">
    <div class="search">
        <input type="text">
        <button><img src="/icon/search.svg" alt="SVG image"></button>
    </div>
    <div class="filters">
        <h1>Sort</h1>

        <div class="alcohol-filter">
            <form id="sortForm"  method="get">
                <select id="sort" name="sortType" onchange="sortAlcohol()">
                    <option value="">-- Choose --</option>
                    <option value="1">A>Z</option>
                    <option value="2">Z>A</option>
                    <option value="3">Degree: Low>High</option>
                    <option value="4">Degree: High>Low</option>
                </select>
            </form>
        </div>
        <h1>Filters</h1>
        <div class="line"></div>
        <div class="level">
            <form id="filterForm" action="@Url.Action("Index", "Alcohol")" method="get">
                <select id="filter" name="filterType" onchange="submitForm()">
                    <option value="">-- Choose --</option>
                    <option value="0">None</option>
                    <option value="1">Easy</option>
                    <option value="2">Normal</option>
                    <option value="3">Hard</option>
                </select>
            </form>

            <script>
                function submitForm() {
                    document.getElementById("filterForm").submit();
                }
            </script>
        </div>
        <script>
            function redirectToPage(value) {
                if (value === '1') {
                    window.location.href = '/Alcohol?filterType=1';
                } else if (value === '2') {
                    window.location.href = '/Alcohol?filterType=2';
                }else if (value === '3') {
                    window.location.href = '/Alcohol?filterType=3';
                }
                else if (value === '0') {
                    window.location.href = '/Alcohol?filterType=0';
                }
            }
        </script>
            
        </div>

    </div>

<ul id="alcoholList" class="cards">
    @foreach (Alcohol alcohol in Model)
    {
        <li>
            <div class="card">
                <div class="card-img" style="background-color:@alcohol.BackgroundColor;">
                    @if (alcohol.Photo != null && alcohol.Photo.Length > 0)
                    {
                        string base64String = Convert.ToBase64String(alcohol.Photo);
                        string imgSrc = string.Format("data:image/svg+xml;base64,{0}", base64String);
                        <img src="@imgSrc" alt="Image" />
                    }

                </div>
                <div class="card-info">
                    @{
                        string name = alcohol.Name;
                        string description = alcohol.Description;

                        if (!string.IsNullOrEmpty(name) && name.Length > 13)
                        {
                            name = name.Substring(0, 10) + "...";
                        }

                        if (!string.IsNullOrEmpty(description) && description.Length > 13)
                        {
                            description = description.Substring(0, 30) + "...";
                        }
                    }
                    <p class="text-title" id="name">@name</p>
                    <p class="text-body" id="description">@description</p>
                    <p class="degree" hidden data-degree="@alcohol.Degree">@alcohol.Degree</p>
                </div>
                <div class="card-footer">
                    <button class="button">
                        Hover me :)
                    </button>
                </div>
            </div>
        </li>
    }
</ul>
<script src="/js/sort_alcohol.js"></script>